\doxysection{filters.\+h}
\hypertarget{filters_8h_source}{}\label{filters_8h_source}\index{razer\_hydra/include/razer\_hydra/filters.h@{razer\_hydra/include/razer\_hydra/filters.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RAZER\_HYDRA\_FILTERS\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RAZER\_HYDRA\_FILTERS\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <tf/tf.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <ros/ros.h>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00008\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_filter}{Filter}}\ \{}
\DoxyCodeLine{00009\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00010\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setValue(\textcolor{keyword}{const}\ T\&\ val)\ \{\ y0\ =\ val;\ \}}
\DoxyCodeLine{00011\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setFc(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)\ =\ 0;}
\DoxyCodeLine{00012\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ T\&\ getValue()\ \{\ \textcolor{keywordflow}{return}\ y0;\ \}}
\DoxyCodeLine{00013\ \ \ \textcolor{comment}{//inline\ const\ T\&\ process(const\ T\&\ x)\ =\ 0;}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00016\ \ \ T\ y0;}
\DoxyCodeLine{00017\ \};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00020\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_one_pole}{OnePole}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_filter}{Filter}}<T>\ \{\ \textcolor{comment}{//\ http://www.earlevel.com/main/2012/12/15/a-\/one-\/pole-\/filter/}}
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \mbox{\hyperlink{class_one_pole}{OnePole}}()\ :\ a0(0),\ b1(0)\ \{\ \}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \mbox{\hyperlink{class_one_pole}{OnePole}}(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)\ :\ a0(0),\ b1(0)\ \{\ setFc(Fc,\ Fs);\ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setFc(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)}
\DoxyCodeLine{00027\ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ b1\ =\ exp(-\/2.0\ *\ M\_PI\ *\ Fc\ /\ Fs);}
\DoxyCodeLine{00029\ \ \ \ \ a0\ =\ 1.0\ -\/\ b1;}
\DoxyCodeLine{00030\ \ \ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ T\&\ process(\textcolor{keyword}{const}\ T\&\ x)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ this-\/>y0\ =\ a0*x\ +\ b1*this-\/>y0;}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>y0;}
\DoxyCodeLine{00035\ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{double}\ a0,\ b1;}
\DoxyCodeLine{00039\ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_one_pole_quaternion}{OnePoleQuaternion}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_one_pole}{OnePole}}<tf::Quaternion>\ \{}
\DoxyCodeLine{00042\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{class_one_pole_quaternion}{OnePoleQuaternion}}()\ \{\ setValue(tf::Quaternion(0,0,0,1));\ \}}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{class_one_pole_quaternion}{OnePoleQuaternion}}(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)\ :\ \mbox{\hyperlink{class_one_pole}{OnePole<tf::Quaternion>}}(Fc,\ Fs)\ \{\ setValue(tf::Quaternion(0,0,0,1));\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ tf::Quaternion\&\ process(\textcolor{keyword}{const}\ tf::Quaternion\&\ x)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ y0\ =\ y0.slerp(x,\ a0);}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{return}\ y0;}
\DoxyCodeLine{00049\ \ \ \}}
\DoxyCodeLine{00050\ \};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_one_pole_vector3}{OnePoleVector3}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_one_pole}{OnePole}}<tf::Vector3>\ \{}
\DoxyCodeLine{00053\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00054\ \ \ \mbox{\hyperlink{class_one_pole_vector3}{OnePoleVector3}}()\ \{\ setValue(tf::Vector3(0,0,0));\ \}}
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{class_one_pole_vector3}{OnePoleVector3}}(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)\ :\ \mbox{\hyperlink{class_one_pole}{OnePole<tf::Vector3>}}(Fc,\ Fs)\ \{\ setValue(tf::Vector3(0,0,0));\ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00060\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_bi_quad}{BiQuad}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_filter}{Filter}}<T>}
\DoxyCodeLine{00061\ \{\ \textcolor{comment}{//\ http://www.earlevel.com/main/2003/03/02/the-\/bilinear-\/z-\/transform/}}
\DoxyCodeLine{00062\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00063\ \ \ \mbox{\hyperlink{class_bi_quad}{BiQuad}}()}
\DoxyCodeLine{00064\ \ \ \ \ :\ a0(0),\ a1(0),\ a2(0),\ b0(0),\ b1(0),\ b2(0)\ \{\ \}}
\DoxyCodeLine{00065\ \ \ \mbox{\hyperlink{class_bi_quad}{BiQuad}}(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)}
\DoxyCodeLine{00066\ \ \ \ \ :\ a0(0),\ a1(0),\ a2(0),\ b0(0),\ b1(0),\ b2(0)\ \{\ setFc(Fc,\ Fs);\ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ setFc(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)\ \{\ setFc(\ Fc,\ Fs,\ 0.5);\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ setFc(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs,\ \textcolor{keywordtype}{double}\ Q)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{double}\ K\ =\ tan(M\_PI*Fc/Fs);}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{double}\ k\_quad\_denom\ =\ K*K\ +\ K/Q\ +\ 1.0;}
\DoxyCodeLine{00073\ \ \ \ \ a0\ =\ K*K/k\_quad\_denom;}
\DoxyCodeLine{00074\ \ \ \ \ a1\ =\ 2*a0;}
\DoxyCodeLine{00075\ \ \ \ \ a2\ =\ a0;}
\DoxyCodeLine{00076\ \ \ \ \ b0\ =\ 1.0;}
\DoxyCodeLine{00077\ \ \ \ \ b1\ =\ 2*(K*K\ -\/\ 1.0)/k\_quad\_denom;}
\DoxyCodeLine{00078\ \ \ \ \ b2\ =\ (K*K\ -\/\ K/Q\ +\ 1.0)/k\_quad\_denom;}
\DoxyCodeLine{00079\ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setValue(\textcolor{keyword}{const}\ T\&\ val)\ \{\ this-\/>y0\ =\ y1\ =\ y2\ =\ x1\ =\ x2\ =\ val;\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ T\&\ process(\textcolor{keyword}{const}\ T\&\ x)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ this-\/>y0\ =\ a0*x\ +\ a1*x1\ +\ a2*x2\ -\/\ b1*y1\ -\/\ b2*y2;}
\DoxyCodeLine{00085\ \ \ \ \ x2\ =\ x1;}
\DoxyCodeLine{00086\ \ \ \ \ x1\ =\ x;}
\DoxyCodeLine{00087\ \ \ \ \ y2\ =\ y1;}
\DoxyCodeLine{00088\ \ \ \ \ y1\ =\ this-\/>y0;}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>y0;}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{comment}{//\ \ \ \ w0\ =\ x\ -\/\ b1*w1\ -\/\ b2*w2;}}
\DoxyCodeLine{00092\ \textcolor{comment}{//\ \ \ \ this-\/>y0\ =\ a0*w0\ +\ a1*w1\ +\ a2*w2;}}
\DoxyCodeLine{00093\ \textcolor{comment}{//\ \ \ \ w2\ =\ w1;}}
\DoxyCodeLine{00094\ \textcolor{comment}{//\ \ \ \ w1\ =\ w0;}}
\DoxyCodeLine{00095\ \textcolor{comment}{//\ \ \ \ return\ this-\/>y0;}}
\DoxyCodeLine{00096\ \ \ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{double}\ a0,\ a1,\ a2,\ b0,\ b1,\ b2;}
\DoxyCodeLine{00100\ \ \ \ \ T\ x1,\ x2,\ y1,\ y2;}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//T\ w0,\ w1,\ w2;}}
\DoxyCodeLine{00102\ \};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_bi_quad_vector3}{BiQuadVector3}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_bi_quad}{BiQuad}}<tf::Vector3>\ \{}
\DoxyCodeLine{00105\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00106\ \ \ \mbox{\hyperlink{class_bi_quad_vector3}{BiQuadVector3}}()\ \{\ setValue(tf::Vector3(0,0,0));\ \}}
\DoxyCodeLine{00107\ \ \ \mbox{\hyperlink{class_bi_quad_vector3}{BiQuadVector3}}(\textcolor{keywordtype}{double}\ Fc,\ \textcolor{keywordtype}{double}\ Fs)\ :\ \mbox{\hyperlink{class_bi_quad}{BiQuad<tf::Vector3>}}(Fc,\ Fs)\ \{\ setValue(tf::Vector3(0,0,0));\ \}}
\DoxyCodeLine{00108\ \};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ RAZER\_HYDRA\_FILTERS\_H}}

\end{DoxyCode}
